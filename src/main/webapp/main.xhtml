<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Lab Work</title>
    <h:outputStylesheet name="/styles/main.css"/>
</h:head>
<h:body>
    <div class="container">
        <div class="header">
            <h1>Coordinate Plane Checker</h1>
        </div>

        <div class="graph-container">
            <canvas id="graph" width="400" height="400">
            </canvas>
        </div>

        <h:form styleClass="form-grid">
            <div class="form-row">
                <h:outputLabel for="x" value="X coordinate:" styleClass="form-label"/>
                <h:selectOneMenu id="x" value="#{inputBean.result.x}"
                                 required="true" styleClass="select-menu">
                    <f:selectItem itemLabel="Select X" itemValue=""/>
                    <f:selectItem itemLabel="-3" itemValue="-3"/>
                    <f:selectItem itemLabel="-2" itemValue="-2"/>
                    <f:selectItem itemLabel="-1" itemValue="-1"/>
                    <f:selectItem itemLabel="0" itemValue="0"/>
                    <f:selectItem itemLabel="1" itemValue="1"/>
                    <f:selectItem itemLabel="2" itemValue="2"/>
                    <f:selectItem itemLabel="3" itemValue="3"/>
                    <f:selectItem itemLabel="4" itemValue="4"/>
                    <f:selectItem itemLabel="5" itemValue="5"/>
                </h:selectOneMenu>
            </div>

            <div class="form-row">
                <h:outputLabel for="y" value="Y coordinate:" styleClass="form-label"/>
                <h:inputText id="y" value="#{inputBean.result.y}"
                             required="true"
                             styleClass="input-field"
                             type="text">
                    <f:validateDoubleRange minimum="-3" maximum="5"/>
                </h:inputText>
                <h:message for="y" styleClass="error-message"/>
            </div>

            <div class="form-row">
                <h:outputLabel for="r" value="R value:" styleClass="form-label"/>
                <h:selectOneMenu id="r" value="#{inputBean.result.r}"
                                 required="true" styleClass="select-menu"
                                 onchange="drawGraph()">
                    <f:selectItem itemLabel="Select R" itemValue=""/>
                    <f:selectItem itemLabel="1" itemValue="1"/>
                    <f:selectItem itemLabel="2" itemValue="2"/>
                    <f:selectItem itemLabel="3" itemValue="3"/>
                    <f:selectItem itemLabel="4" itemValue="4"/>
                    <f:selectItem itemLabel="5" itemValue="5"/>
                </h:selectOneMenu>
            </div>
            <div id="error-container" style="color: red; margin-top: 10px;">
            </div>

            <div class="form-row">
                <h:commandButton value="Check Point"
                                 action="#{inputBean.processInput}"
                                 styleClass="button">
                </h:commandButton>

                <h:commandButton value="Clear Table"
                                 action="#{resultBean.clearResults}"
                                 styleClass="button"/>
            </div>
        </h:form>

        <h:form>
            <h:dataTable value="#{resultListBean.results}"
                         var="result"
                         styleClass="data-table">
                <h:column>
                    <f:facet name="header">X</f:facet>
                    <h:outputText value="#{result.x}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">Y</f:facet>
                    <h:outputText value="#{result.y}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">R</f:facet>
                    <h:outputText value="#{result.r}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">Hit</f:facet>
                    <h:outputText value="#{result.hit ? 'Yes' : 'No'}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">Actions</f:facet>
                    <h:commandButton value="Delete" action="#{resultBean.deleteResult(result.id)}"/>
                </h:column>
            </h:dataTable>
        </h:form>

        <h:form>
            <h:commandButton value="Back to Index"
                             action="#{navigationBean.toIndexPage}"
                             styleClass="button"/>
        </h:form>
    </div>
    —ç

    <h:outputScript name="/js/validation.js"/>
    <h:outputScript name="js/graph.js"/>
</h:body>
</html>
